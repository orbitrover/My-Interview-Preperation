@model IEnumerable<Core.InterviewPrep.PostgreSQL.Models.ValueTypeMaster>

@{
    Layout = null;
}

<style>
    .topic-index {
        position: absolute;
        top: 70px;
        left: 0;
        bottom: 0;
        display: block;
        max-height: 100%;
        overflow: auto;
        height: 100%;
    }

        .topic-index a {
            cursor: pointer;
        }

    .topic-details {
        position: absolute;
        top: 70px;
        right: 0;
        bottom: 0;
        display: block;
        max-height: 100%;
        overflow: auto;
        height: 100%;
    }

    @@media (max-width: 720px) {
        .topic-index {
            display: none;
            max-height: 100%;
        }

        .topic-details {
            position: relative;
            display: block;
        }
    }
</style>
<style type="text/css">
    .content {
        padding: 10px;
    }

    img {
        max-width: 100%;
    }
    figure img {
        max-width:100%;
    }
</style>
<style id="style1" type="text/css">
    @@import url('https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap');

    pre, code {
        font-family: "Roboto Mono", monospace !important;
        font-size: 9pt !important;
        line-height: 140% !important;
    }
</style>

<style>
    /* The "copy" box container */
    .code-badge {
        background: #555 !important;
        padding: 8px !important;
        opacity: 0.5 !important;
        transition: opacity linear 0.5s !important;
    }

    /* The "copy" button */
    .code-badge-copy-icon {
        font-size: 1.3em !important;
    }

    /* The "copy" button, after clicked */
    .text-success {
        color: #b6ff00;
    }

    /* The text in the container */
    .code-badge-language {
        margin-right: 10px;
        font-weight: 700 !important;
        color: #ffafaf !important;
        transition: color linear 0.5s !important;
    }

    /* The "copy" box container, at mouse hover */
    .code-badge:hover {
        opacity: 1 !important;
        background: #4f4f4f !important;
    }

        /* The text in the container, at mouse hover */
        .code-badge:hover .code-badge-language {
            color: #ff4343 !important;
        }

    .dropdown-toggle::after {
        display: none !important;
        margin-left: 0;
        vertical-align: 0;
        content: "";
        border-top: 0 !important;
        border-right: 0 !important;
        border-bottom: 0;
        border-left: 0 !important;
    }
</style>

<div class="row mt-3">
    <div class="col-md-3 topic-index">
        <h2>
            Index
        </h2>
        <ol>
            @if (Model != null && Model.Count() > 0)
            {
                int count = 0;
                foreach (var item in Model)
                {
                    count++;
                    <li>
                        <a class="text-primary" data-bs-toggle="collapse" data-bs-target="#collapse_@count" data-bs-type="topic">
                            @item.Name
                        </a>
                        <ol>
                            @if (item.Headings != null && item.Headings.Count > 0)
                            {
                                int countHeading = 0;
                                foreach (var heading in item.Headings)
                                {
                                    countHeading++;
                                    <li>
                                        <a class="text-secondary" data-bs-toggle="collapse" data-bs-target="#collapse_h_@count.ToString()_@countHeading" data-bs-type="heading">
                                            @heading.HeadingName
                                        </a>
                                        <ol>
                                            @if (heading != null && heading?.Questions.Count > 0)
                                            {
                                                int countQuestion = 0;
                                                foreach (var question in heading?.Questions)
                                                {
                                                    countQuestion++;
                                                    <li>
                                                        <a class="text-info" data-bs-toggle="collapse" data-bs-target="#collapse_q_@count.ToString()_@countHeading.ToString()_@countQuestion" data-bs-type="question">
                                                            @question.QuestionName
                                                        </a>
                                                    </li>
                                                }
                                            }
                                        </ol>
                                    </li>
                                }
                            }
                        </ol>
                    </li>
                }
            }

        </ol>
    </div>
    <div class="col-md-9 topic-details">
        <h2>
            Interview Preperation
            <div style="float: right;">
                <a href="/preps/AddTopics" class="btn btn-outline-primary btn-xs" data-modal="" title="Add Topics">
                    <i class="fa fa-plus"></i>
                </a>
                <a id="collapseall" class="btn btn-outline-primary btn-xs">
                    <i class="fa fa-arrow-up"></i>
                </a>
                <div class="dropdown" style="float:right;margin-left:5px;">
                    <a class="btn btn-outline-primary btn-xs dropdown-toggle" data-bs-toggle="dropdown">
                        <i class="fa fa-ellipsis-v"></i>
                    </a>
                    <div class="dropdown-menu">
                        @(await Html.PartialAsync("_HighlightFilter"))
                    </div>
                </div>
            </div>
        </h2>

        <div class="mt-1" id="accordion">

            @if (Model != null && Model.Count() > 0)
            {
                int count = 0;
                foreach (var item in Model)
                {
                    count++;
                    <div class="card card-topic" id="accordion_@count">
                        <div class="card-header">
                            <a class="col-topic btn" data-bs-toggle="collapse" data-bs-target="#collapse_@count" data-bs-type="topic">
                                <b>@count.</b> @item.Name
                            </a>
                            <div style="float: right;">
                                <a href="/preps/AddHeadings/@item.Id" class="btn btn-outline-primary btn-xs" data-modal="" title="Add Headings" data-ac-target="#collapse_@count" data-ac-type="topic">
                                    <i class="fa fa-plus"></i>
                                </a>
                                <a href="/preps/EditTopics/@item.Id" class="btn btn-outline-warning btn-xs" data-modal="" title="Edit Topic" data-ac-target="#collapse_@count" data-ac-type="topic">
                                    <i class="fa fa-pencil"></i>
                                </a>
                                <a href="/preps/DeleteTopics/@item.Id" class="btn btn-outline-danger btn-xs" data-modal-delete="" title="Delete Topic">
                                    <i class="fa fa-trash"></i>
                                    <span class="fa fa-refresh fa-spin" style="display:none;"></span>
                                </a>
                            </div>
                        </div>
                        <div id="collapse_@count" class="collapse @(count == 1? "not-show":"") heading" data-bs-parent="#accordion">
                            <div class="card-body">
                                @if (item.Headings != null && item.Headings.Count > 0)
                                {
                                    int countHeading = 0;
                                    foreach (var heading in item.Headings)
                                    {
                                        countHeading++;
                                        <div class="card card-heading" id="accordion_@countHeading">
                                            <div class="card-header">
                                                <a class="col-heading collapsed btn" data-bs-toggle="collapse" data-bs-target="#collapse_h_@count.ToString()_@countHeading" data-bs-type="heading">
                                                    <b>@countHeading.</b>  @heading.HeadingName
                                                </a>

                                                <div style="float: right;">
                                                    <a href="/preps/AddQuestions/@heading.HeadingId" class="btn btn-outline-primary btn-xs" data-modal="" title="Add Questions" data-ac-target="#collapse_h_@count.ToString()_@countHeading" data-ac-type="heading">
                                                        <i class="fa fa-plus"></i>
                                                    </a>
                                                    <a href="/preps/EditHeadings/@heading.HeadingId" class="btn btn-outline-warning btn-xs" data-modal="" title="Edit Heading" data-ac-target="#collapse_h_@count.ToString()_@countHeading" data-ac-type="heading">
                                                        <i class="fa fa-pencil"></i>
                                                    </a>
                                                    <a href="/preps/DeleteHeadings/@heading.HeadingId" class="btn btn-outline-danger btn-xs" data-modal-delete="" title="Delete Heading" data-ac-target="#collapse_@count" data-ac-type="topic">
                                                        <i class="fa fa-trash"></i>
                                                        <span class="fa fa-refresh fa-spin" style="display:none;"></span>
                                                    </a>
                                                </div>
                                            </div>
                                            <div id="collapse_h_@count.ToString()_@countHeading" class="question collapse@(count == 1? "not-show":"")" data-bs-parent="#collapse_@count">
                                                <div class="card-body">
                                                    @if (heading != null && heading?.Questions.Count > 0)
                                                    {
                                                        int countQuestion = 0;
                                                        foreach (var question in heading?.Questions)
                                                        {
                                                            countQuestion++;
                                                            <div class="card card-question">
                                                                <div class="card-header">
                                                                    <a class="col-question collapsed btn" data-bs-toggle="collapse" data-bs-target="#collapse_q_@count.ToString()_@countHeading.ToString()_@countQuestion" data-bs-type="question">
                                                                        <b>@countQuestion.</b> @question.QuestionName
                                                                    </a>
                                                                    <div style="float: right;">
                                                                        <a href="/preps/AddAnswers/@question.QuestionId" class="btn btn-outline-primary btn-xs" data-modal-c="" title="Add Answers" data-ac-target="#collapse_q_@count.ToString()_@countHeading.ToString()_@countQuestion" data-ac-type="question">
                                                                            <i class="fa fa-plus"></i>
                                                                        </a>
                                                                        <a href="/preps/EditQuestions/@question.QuestionId" class="btn btn-outline-warning btn-xs" data-modal="" title="Edit Question" data-ac-target="#collapse_q_@count.ToString()_@countHeading.ToString()_@countQuestion" data-ac-type="question">
                                                                            <i class="fa fa-pencil"></i>
                                                                        </a>
                                                                        <a href="/preps/DeleteQuestions/@question.QuestionId" class="btn btn-outline-danger btn-xs" data-modal-delete="" title="Delete Question" data-ac-target="#collapse_h_@count.ToString()_@countHeading" data-ac-type="heading">
                                                                            <i class="fa fa-trash"></i>
                                                                            <span class="fa fa-refresh fa-spin" style="display:none;"></span>
                                                                        </a>
                                                                    </div>

                                                                </div>
                                                                <div id="collapse_q_@count.ToString()_@countHeading.ToString()_@countQuestion" class="collapse @(count == 1? "not-show":"") answer" data-bs-parent="#collapse_h_@countHeading">
                                                                    <div class="card-body">
                                                                        @if (question.Answers != null)
                                                                        {
                                                                            int countAnswer = 0;
                                                                            foreach (var answer in question.Answers)
                                                                            {
                                                                                countAnswer++;
                                                                                <div class="row">
                                                                                    <div class="col-md-12">
                                                                                        @* <pre class="theme-atom-one-dark shadow-3xl text-sm relative overflow-hidden max-w-full tab-size h-full">
                                                                                            <b>@countAnswer.</b>
                                                                                            <code class="language-csharp"> 
                                                                                                    @Html.Raw(answer.AnswerName)
                                                                                            </code>
                                                                                        </pre> *@
                                                                                        @(await Html.PartialAsync("_HighlightViewer", answer))
                                                                                        <a href="/preps/EditAnswers/@answer.AnswerId" class="btn btn-outline-warning btn-xs" data-modal-c="" title="Edit Answer" data-ac-target="#collapse_q_@count.ToString()_@countHeading.ToString()_@countQuestion" data-ac-type="question">
                                                                                            <i class="fa fa-pencil"></i>
                                                                                        </a>
                                                                                        <a href="/preps/DeleteAnswers/@answer.AnswerId" class="btn btn-outline-danger btn-xs" data-modal-delete="" title="Delete Answer" data-ac-target="#collapse_q_@count.ToString()_@countHeading.ToString()_@countQuestion" data-ac-type="question">
                                                                                            <i class="fa fa-trash"></i>
                                                                                            <span class="fa fa-refresh fa-spin" style="display:none;"></span>
                                                                                        </a>
                                                                                        
                                                                                    </div>
                                                                                </div>
                                                                            }
                                                                        }
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        }
                                                    }
                                                </div>
                                            </div>
                                        </div>
                                    }
                                }


                            </div>
                        </div>
                    </div>
                }
            }






            @* Sample
            <div class="card">
            <div class="card-header">
            <a class="collapsed btn" data-bs-toggle="collapse" href="#collapseThree">
            Collapsible Group Item #3
            </a>
            </div>
            <div id="collapseThree" class="collapse" data-bs-parent="#accordion">
            <div class="card-body">
            <div class="card">
            <div class="card-header">
            <a class="collapsed btn" data-bs-toggle="collapse" href="#collapseThreea">
            Collapsible Group Item #3
            </a>
            </div>
            <div id="collapseThreea" class="collapse" data-bs-parent="#collapseThree">
            <div class="card-body">
            <div class="card">
            <div class="card-header">
            <a class="collapsed btn" data-bs-toggle="collapse" href="#collapseThreeb">
            Collapsible Group Item #3
            </a>
            </div>
            <div id="collapseThreeb" class="collapse" data-bs-parent="#collapseThreea">
            <div class="card-body">
            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
            </div>
            </div>
            </div>
            </div>
            </div>
            </div>
            </div>
            </div>
            </div>

            *@
        </div>
    </div>
</div>
<script>
    $(function () {
        hljs.highlightAll();
    });
</script>
